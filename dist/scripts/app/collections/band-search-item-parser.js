define(["jquery","underscore"],function($,_){"use strict";function BandSearchItemParser(searchResult){this._searchResult=_.isArray(searchResult)?searchResult:searchResult.json}return BandSearchItemParser.AKA_TOKEN="<strong>a.k.a.</strong>",BandSearchItemParser.prototype.getId=function(){var str=this._searchResult[0],end=str.indexOf("</a>")+4,a=str.substring(0,end),url=a.match(/".*?"/),urlParts=url[0].substr(1,url[0].length-2).split("/");return urlParts[urlParts.length-1]},BandSearchItemParser.prototype.getName=function(){var str=this._searchResult[0],end=str.indexOf("</a>")+4,a=str.substring(0,end);return a.substring(a.indexOf(">")+1,a.indexOf("</a>"))},BandSearchItemParser.prototype.getAka=function(){var str=this._searchResult[0],akaIndex=str.indexOf(BandSearchItemParser.AKA_TOKEN);return akaIndex>-1?str.substring(akaIndex+BandSearchItemParser.AKA_TOKEN.length,str.lastIndexOf(")")):""},BandSearchItemParser.prototype.getFullName=function(){var name=this.getName(),aka=this.getAka();return""!==aka?name+" (a.k.a. "+aka+")":name},BandSearchItemParser.prototype.getGenre=function(){return this._searchResult[1]},BandSearchItemParser.prototype.getCountry=function(){return this._searchResult[2]},BandSearchItemParser});