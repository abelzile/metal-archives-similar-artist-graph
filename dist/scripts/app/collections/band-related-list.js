define(["require","jquery","underscore","backbone","app/models/band","app/collections/band-list","app/collections/band-related-item-parser"],function(require,$,_,Backbone,Band,BandList,BandRelatedItemParser){"use strict";return BandList.extend({MAX_RESULTS:10,parse:function(response,options){var queryResponse=response.query,count=queryResponse.count,rows=queryResponse.results.tr;return 0===count||1===count&&"no_artists"===rows.td.id?[]:_.initial(rows,rows.length-Math.min(rows.length,this.MAX_RESULTS)).map(function(val){var parser=new BandRelatedItemParser(val);return parser.isValid()?new Band({id:parser.getId(),name:parser.getFullName(),genre:parser.getGenre(),country:parser.getCountry(),score:parser.getScore(),parentBand:options.parentBand,relatedBands:new(require("app/collections/band-related-list"))}):void 0})},reset:function(models,options){return options=options||{isSourceOfReset:!0},_.has(options,"isSourceOfReset")||(options.isSourceOfReset=!0),Backbone.Collection.prototype.reset.call(this,models,options)}})});