define(["jquery","underscore","backbone","app/views/about","app/views/graph","app/views/search","app/collections/band-related-list","app/collections/band-search-list","app/models/band"],function(a,b,c,d,e,f,g,h,i){"use strict";return c.View.extend({el:"#the-app",$window:null,$loadingOverlay:null,$loadingMsg:"",searchView:null,graphView:null,aboutView:null,initialize:function(){(this.$window=a(window)).on("resize",this.resizeLayout.bind(this)),this.$loadingOverlay=this.$el.find("#loading-overlay"),this.$loadingMsg=this.$loadingOverlay.find("#loading-msg");var b=new h;this.aboutView=new d,this.searchView=new f({collection:b}),this.graphView=new e({model:new i}),this.graphView.listenTo(this.searchView,"search:select",function(a){this.graphView.start(a)}.bind(this)),this.listenTo(this.searchView,"search:searching",function(){this._showLoadingMsg("Searching...")}).listenTo(this.searchView,"search:searched",function(){this._hideLoadingMsg()}).listenTo(this.graphView,"graph:rendering",function(){this._showLoadingMsg("Updating graph...")}).listenTo(this.graphView,"graph:rendered",function(){this._hideLoadingMsg()}),this.resizeLayout()},resizeLayout:function(){var a=this.$window.innerWidth(),b=this.$window.innerHeight();this.$loadingOverlay.width(a).height(b),this.graphView.resize(a,b)},_showLoadingMsg:function(a){this.$loadingMsg.text(a),this.$loadingOverlay.fadeIn("fast")},_hideLoadingMsg:function(){this.$loadingMsg.text(""),this.$loadingOverlay.fadeOut("fast")}})});